@use 'sass:math'

$sqrt2: math.sqrt(2)

$gradient-timing-function: cubic-bezier(.77,0,.18,1)
$circle-timing-function: cubic-bezier(.77,0,.18,1)

$gradient-scale: .5

@mixin gradient-common
  position: absolute

  top: 50%
  left: 50%
  transform: translate(-50%, -50%)

  //height: max(calc(100vh * #{$sqrt2}), calc(100vh * #{$sqrt2}))
  // 1.5 is ~sqrt(2)
  height: max(calc(100vh * #{$gradient-scale}), calc(100vw * #{$gradient-scale}))
  width: max(calc(100vh * #{$gradient-scale}), calc(100vw * #{$gradient-scale}))

  z-index: -1

.app
  height: 100%

.circle
  position: relative
  height: 100%

  --g1-1: red
  --g1-2: blue

  --g2-1: transparent
  --g2-2: black

  overflow: hidden

  clip-path: circle(20%)
  animation: circle 1s $circle-timing-function infinite
  animation-direction: alternate

  .gradient-1
    @include gradient-common

    background-image: linear-gradient(var(--g1-1), var(--g1-2))

    animation: gradient-1 2s $gradient-timing-function infinite

  .gradient-2
    @include gradient-common

    background-image: linear-gradient(var(--g2-1), var(--g2-2))

    animation: gradient-1 2s $gradient-timing-function infinite
    //animation-direction: reverse
    animation-delay: -1s


@keyframes gradient-1
  from
    transform: translate(-50%, -50%) rotate(0)
  to
    transform: translate(-50%, -50%) rotate(360deg)


@keyframes circle
  from
    transform: scale(1)
  to
    transform: scale(1.2)

